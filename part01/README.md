ä¸€ã€è°ˆè°ˆä½ æ˜¯å¦‚ä½•ç†è§£JSå¼‚æ­¥ç¼–ç¨‹çš„ï¼ŒEventLoopã€æ¶ˆæ¯é˜Ÿåˆ—éƒ½æ˜¯åšä»€ä¹ˆçš„ï¼Œä»€ä¹ˆæ˜¯å®ä»»åŠ¡ï¼Œä»€ä¹ˆæ˜¯å¾®ä»»åŠ¡?
javascriptæ˜¯å•çº¿ç¨‹ä¹Ÿå°±æ„å‘³ç€æµè§ˆå™¨æœ‰å¤šä¸ªä»»åŠ¡çš„æ—¶å€™è¦æŽ’é˜Ÿä¾æ¬¡è¿›è¡Œï¼Œä¸€ä¸ªä¸€ä¸ªå®Œæˆï¼Œè¿™ç§æ¨¡å¼çš„ä¼˜ç‚¹æ˜¯æ¯”è¾ƒå®‰å…¨ã€‚ç¼ºç‚¹æ˜¯å¦‚æžœæˆ‘ä»¬é‡åˆ°ä¸€ä¸ªç‰¹åˆ«æ¶ˆè€—æ—¶é—´çš„ä»»åŠ¡ï¼Œé‚£ä¹ˆåŽé¢çš„ä»»åŠ¡å°±ä¼šä¸€ç›´ç­‰ç€è¿™ä¸ªä»»åŠ¡çš„å®Œæˆï¼Œè¿™æ ·ä¼šé€ æˆé¡µé¢å¡æ­»çš„æƒ…å†µï¼Œä¼šé€ æˆé˜»å¡žã€‚ä¸ºäº†è§£å†³jsæ— æ³•å¤„ç†å¤§é‡è€—æ—¶çš„ä»»åŠ¡ï¼Œjså°†ä»»åŠ¡åˆ†ä¸ºï¼šåŒæ­¥æ¨¡å¼å’Œå¼‚æ­¥æ¨¡å¼
åŒæ­¥ï¼šåŒæ­¥æ¨¡å¼æŒ‡çš„æ˜¯jsä»£ç è¦ä¾æ¬¡æ‰§è¡Œï¼ŒåŽé¢çš„ä»£ç è¦ç­‰å¾…å‰ä¸€å¥ä»£ç æ‰§è¡Œå®Œæˆæ‰èƒ½æ‰§è¡Œï¼ŒæŽ’é˜Ÿæ‰§è¡Œã€‚
å¼‚æ­¥ï¼šå¼‚æ­¥æ¨¡å¼æŒ‡çš„æ˜¯jsä»£ç ä¸ä¼šç­‰å¾…å‰é¢çš„ä»£ç æ‰§è¡Œå®Œæ¯•æ‰å¼€å§‹æ‰§è¡Œã€‚å°†æ‰§è¡Œä»£ç æ”¾å…¥åˆ°è°ƒç”¨æ ˆä¸­æ‰§è¡Œï¼Œå¦‚æžœåŒæ­¥çš„ç›´æŽ¥æ‰§è¡Œï¼Œå¦‚æžœæ˜¯å¼‚æ­¥çš„åˆ™æ”¾å…¥æ¶ˆæ¯åˆ—é˜Ÿä¸­ç­‰å¾…æ‰§è¡Œï¼Œç­‰å¾…æ‰€æœ‰ä»£ç æ‰§è¡Œå®Œæ¯•ï¼ŒEvent Loopä¼šç›‘å¬è°ƒç”¨æ ˆå’Œæ¶ˆæ¯åˆ—é˜Ÿä¸­çš„ä»»åŠ¡ï¼Œå½“è°ƒç”¨æ ˆä¸­æ‰€æœ‰çš„ä»»åŠ¡æ‰§è¡Œå®ŒåŽï¼Œå®ƒä¼šä»Žæ¶ˆæ¯åˆ—é˜Ÿä¸­ä¾æ¬¡å–å‡ºå›žè°ƒå‡½æ•°åŽ‹å…¥åˆ°è°ƒç”¨æ ˆï¼Œå¼€å§‹æ‰§è¡Œï¼Œç›´åˆ°æ•´ä¸ªå¾ªçŽ¯ç»“æŸã€‚
Event Loopï¼šæ˜¯jsçš„æ‰§è¡Œæœºåˆ¶ã€‚ ä¸»çº¿ç¨‹ä»Žæ¶ˆæ¯åˆ—é˜Ÿä¸­è¯»å–äº‹ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ªçŽ¯ä¸æ–­çš„ï¼Œè¿™ç§æœºåˆ¶ç®€ç§°ï¼ˆäº‹ä»¶å¾ªçŽ¯ï¼‰
æ¶ˆæ¯åˆ—é˜Ÿï¼šæ˜¯æš‚æ—¶å­˜æ”¾å¼‚æ­¥ä»»åŠ¡çš„åœ°æ–¹ï¼Œå¼‚æ­¥ä»£ç ä¼šåœ¨å­˜æ”¾åˆ°æ¶ˆæ¯åˆ—é˜Ÿä¸­ï¼Œç­‰å¾…åŒæ­¥ä»£ç æ‰§è¡Œå®ŒåŽEvent Loopä¼šä»Žæ¶ˆæ¯åˆ—é˜Ÿä¸­ä¾æ¬¡å–å‡ºå¼‚æ­¥ä»»åŠ¡æ”¾åˆ°è°ƒç”¨æ ˆä¸­å†æ¬¡æ‰§è¡Œã€‚
å®ä»»åŠ¡ï¼šå½“å‰è°ƒç”¨æ ˆä¸­æ‰§è¡Œçš„ä»£ç ï¼ŒåŒ…æ‹¬ä¸»ä»£ç å—å’Œå®šæ—¶å™¨ã€‚
å¾®ä»»åŠ¡ï¼šå®ä»»åŠ¡æ‰§è¡Œå®ŒåŽï¼Œæ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡å¼€å§‹ä¹‹å‰éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œç±»ä¼¼å›žè°ƒå‡½æ•°ã€‚
äºŒã€ç”¨promiseçš„æ–¹å¼æ”¹è¿›
new Promise((resolve,reject)=> {
  resolve()
}).then(()=> {
  var a = 'hello'
  return a
}).then((res)=> {
  var b = 'layou'
  return res + b
}).then(res=> {
  var c = 'IðŸ’—U'
  return res+c
}).then(res=> {
  console.log(res);
})
